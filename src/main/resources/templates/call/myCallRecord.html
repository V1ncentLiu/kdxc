<!DOCTYPE html>
<html>
<head th:include="_header_include::frag(~{::title},~{},~{})">
    <title>我的通话记录</title>
     <style>
        .trClientManage .leftBox{/*width: 200px;*/height: auto;border:1px solid #ebeef5;min-height: 480px;}
        .trClientManage .leftTitle{background:#ebeef5;text-indent: 20px;height: 40px;line-height: 40px;}
        .trClientManage .leftTree{padding:10px;}
        .trClientManage .rightTitle{background:#ebeef5;text-indent: 20px;height: 40px;line-height: 40px;}
    </style>
</head>
<body>
<div id="myCallRecordVm" class="trClientManage mainPadding" style="display:none">  
    <el-breadcrumb separator="/" class="elBreadcrumb marginB20">
        <el-breadcrumb-item>Home</el-breadcrumb-item>
        <el-breadcrumb-item>电销中心</el-breadcrumb-item>
        <el-breadcrumb-item><a href="JavaScript:void(0)" data-url="c.html">我的通话记录</a></el-breadcrumb-item>
    </el-breadcrumb>
    <el-row class="marginB10 greybg padding20">
    
      <el-row :gutter="20">
                 <el-col :span="4">
                        <el-select v-model="searchForm.callStatus" placeholder="接通状态" value-key="value" clearable>
                                <el-option
                                    v-for="item in callStatus"
                                    :key="item.value"
                                    :label="item.label"
                                    :value="item.value">
                                </el-option>
                            </el-select>
                </el-col> 
                <el-col :span="4">
                     <el-input placeholder="客户姓名"  v-model="searchForm.customerName">
                </el-col>
                <el-col :span="4">
                     <el-input placeholder="客户电话"  v-model="searchForm.customerPhone">
                </el-col>
            </el-row>
        
         <el-row :gutter="20">
                 <el-col :span="4">
                        <el-select v-model="searchForm.callType" placeholder="通话类型" value-key="value" clearable>
                                <el-option
                                    v-for="item in callTypeList"
                                    :key="item.value"
                                    :label="item.label"
                                    :value="item.value">
                                </el-option>
                            </el-select>
                </el-col> 
                
                <el-col :span="3">
                         <el-button   icon="el-icon-search" type="primary" @click="initCallRecordData">搜索</el-button>
                    </el-form-item>
                </el-col>
            </el-row>
        
    </el-row>
    <el-row>
    通话总时长：<span style="color:red">{{totalTalkTime | fomatSeconds2}}</span>
        <el-table 
            ref="multipleTable"
            tooltip-effect="dark"
            style="width: 100%"
            border
            :data="callRecordData" 
            >
            <el-table-column type="index" width="50"> </el-table-column>
            <el-table-column align="center" prop="customerName" label="客户姓名"></el-table-column>
            <el-table-column align="center" prop="customerPhone" label="客户电话"></el-table-column>
            <el-table-column align="center" prop="startTime" label="开始服务时间"></el-table-column>
            <el-table-column align="center" prop="callType" label="通话类型" :formatter="getCallTypeText"></el-table-column>
            <el-table-column align="center" prop="startTime" label="通话时间" :formatter="getStartTimeText"></el-table-column>
            <el-table-column align="center" prop="callStatus" label="接通状态" :formatter="getCallStatusText"></el-table-column>
            <!-- <el-table-column align="center" prop="isUserStatus" label="状态" :formatter="getIsUserStatusText"></el-table-column> -->
            <el-table-column align="center" prop="talkTime" label="通话时长" :formatter="getTalkTimeText"></el-table-column>
            
            
        </el-table>
        <table-pagination :pager="pager" @change="initCallRecordData"></table-pagination>
    </el-row>
    
</div>
</body>
<!-- import common js-->
<div th:include="_footer_include :: #jsLib"></div>
<script th:inline="javascript">
   
</script>

<!-- 当前页面的js -->
<script th:src="@{/js/custom/callrecord/myCallRecord.js?v=1.0.0}"></script>
</html>