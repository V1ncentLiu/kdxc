<!DOCTYPE html>
<html>
<head th:include="_header_include::frag(~{::title},~{},~{})">
    <title>页面自定义菜单</title>
     <style>
        .userManage .leftBox{/*width: 200px;*/height: auto;border:1px solid #ebeef5;min-height: 480px;}
        .userManage .leftTitle{background:#ebeef5;text-indent: 20px;height: 40px;line-height: 40px;}
        .userManage .leftTree{padding:10px;}
        .userManage .rightTitle{background:#ebeef5;text-indent: 20px;height: 40px;line-height: 40px;}
    </style>
</head>
<body>
<div id="userManage" class="userManage mainPadding"  style="display:none">  
    <el-breadcrumb separator="/" class="elBreadcrumb marginB20">
        <el-breadcrumb-item>Home</el-breadcrumb-item>
        <el-breadcrumb-item>系统管理</el-breadcrumb-item>
        <el-breadcrumb-item><a href="JavaScript:void(0)" data-url="c.html">页面自定义字段</a></el-breadcrumb-item>
    </el-breadcrumb>
    <el-row class="marginB10">
        <shiro:hasPermission name="customfield:add">
            <el-button type="primary" @click="addFieldMenu"><i class="el-icon-plus"></i> 添加菜单页面</el-button>
        </shiro:hasPermission>
        <shiro:hasPermission name="customfield:edit">
            <el-button type="primary" @click="modifyFiledMenu">修改菜单页面</el-button>
        </shiro:hasPermission>
        <shiro:hasPermission name="customfield:delete">
            <el-button type="primary" @click="deleteFieldMenu">删除菜单页面</el-button><
        </shiro:hasPermission>
    </el-row>
    <el-row class="marginB10 greybg padding20">
        <el-col :span="6" :offset="18">
            <el-input placeholder="请输入菜单名称进行查询" class="input-with-select" v-model="inputMenuName">
            <el-button slot="append" icon="el-icon-search" @click="initCustomFiledMenu">搜索</el-button>
            </el-input>
        </el-col>
    </el-row>
    <el-row>
        <el-table 
            ref="multipleTable"
            tooltip-effect="dark"
            style="width: 100%"
            border
             @selection-change="handleSelectionChange"
            :data="dataTable" 
            >
            <el-table-column align="center" type="selection" width="55"></el-table-column>
            <el-table-column align="center" prop="menuCode" label="菜单代码"></el-table-column>
            <el-table-column align="center" prop="menuName" label="菜单名称"></el-table-column>
            <el-table-column align="center" prop="beanName" label="Bean名称"></el-table-column>
            <el-table-column align="center" label="操作">
                <template slot-scope="scope">
                    <a href="javascript:void(0)" @click="goToFieldSettingPage(scope.row)" target="_blank" class="buttonText" style="color:blue">页面字段设置</a>
                </template>
            </el-table-column>
            
        </el-table>
        <table-pagination :pager="pager" @change="initCustomFiledMenu"></table-pagination>
    </el-row>
    <!-- dialog -->
    <el-dialog :title="addOrModifyDialogTitle" :visible.sync="dialogFormVisible" @close="closeAddCustomFieldDialog">
        <el-form :model="form" ref="customMenuForm" :rules="rules">
            <el-form-item label="菜单代码：" :label-width="formLabelWidth" prop="menuCode">
                <el-input v-model="form.menuCode" autocomplete="off" placeholder="输入菜单代码" maxlength="50"></el-input>
            </el-form-item>
            <el-form-item label="菜单名称：" :label-width="formLabelWidth" prop="menuName">
                <el-input v-model="form.menuName" autocomplete="off" placeholder="输入菜单名称" maxlength="50"></el-input>
            </el-form-item>
            <el-form-item label="Bean名称：" :label-width="formLabelWidth" prop="beanName">
                <el-input v-model="form.beanName" autocomplete="off" placeholder="输入Bean名称" maxlength="50"></el-input>
            </el-form-item>
        </el-form>
        <div slot="footer" class="dialog-footer">
            <el-button @click="cancelForm('customMenuForm')">取 消</el-button>
            <el-button type="primary" @click="saveFieldMenu('customMenuForm')" ref="confirmBtn" :disabled="confirmBtnDisabled">确 定</el-button>
        </div>
    </el-dialog>
</div>
</body>
<!-- import common js-->
<div th:include="_footer_include :: #jsLib"></div>
<!-- 当前页面的js -->
<script th:src="@{/js/custom/customfield/customfield.js?v=1.0.0}"></script>
</html>