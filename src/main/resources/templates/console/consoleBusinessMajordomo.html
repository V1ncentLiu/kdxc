<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="_header_include::frag(~{::title},~{::link},~{})">
    <title>我的工作台-商务总监</title>
    <link rel="stylesheet" th:href="@{/css/custom/console/console.css}">
</head>
<body>
<div id="mainDiv"  class="mainPadding consoleStyle" style="display: none;">
    <!-- 工作台 -->
    <el-breadcrumb separator="/" class="elBreadcrumb marginB20">
        <el-breadcrumb-item>Home</el-breadcrumb-item>
        <el-breadcrumb-item>商务管理</el-breadcrumb-item>
        <el-breadcrumb-item>我的工作台</el-breadcrumb-item>
    </el-breadcrumb>
    <el-row>
        <div class="tip">感谢您辛苦工作的第<em>{{workDay}}</em>天，累计业绩达<em>--</em>元，继续努力！</div>
        <!-- 系统公告 -->
        <div class="affiche marginB20" v-if="afficheBox">
            <span class="f-fl"><img th:src="@{/images/icon_notice.png}" alt="" class="f-fl" style="margin-right: 10px;">系统公告：</span>  
            <div class="f-fl" style="width: 90%;">
                <marquee>
                    <span style="margin-right: 50px;" v-for="item in items" :key="item.id">{{ item.content }}</span>                
                </marquee> 
            </div>                     
        </div>
        <div class="title">
            <div class="leftbox f-fl"><img th:src="@{/images/icon_kb.png}" alt="" class="f-fl">数字看板</div>
        </div>
        <ul class="board">
            <li>
                <div class="tit">待分配任务数</div>
                <div class="cnt">
                    <div class="f-fl">{{unAssignNum}}</div>
                    <div class="f-fr"><img th:src="@{/images/icon_distribution.png}" alt=""></div>
                </div>
            </li>
            <li>
                <div class="tit">今日到访数</div>
                <div class="cnt">
                    <div class="f-fl">--</div>
                    <div class="f-fr"><img th:src="@{/images/icon_arrive.png}" alt=""></div>
                </div>
            </li>
            <li>
                <div class="tit">今日签约数</div>
                <div class="cnt">
                    <div class="f-fl">--</div>
                    <div class="f-fr"><img th:src="@{/images/icon_sign.png}" alt=""></div>
                </div>
            </li>
            <li class="boardStyle2">
                <div class="tit">预计明日到访数</div>
                <div class="cnt">
                    <div class="f-fl">{{direcotorTomorrowArriveTime}}</div>
                    <div class="f-fr"><img th:src="@{/images/icon_arrive.png}" alt=""></div>
                </div>
            </li>
            <li class="boardStyle3">
                <div class="tit">当月签约率</div>
                <div class="cnt">
                    <div class="f-fl">--</div>
                    <div class="f-fr"><img th:src="@{/images/icon_sign.png}" alt=""></div>
                </div>
            </li>
            <li class="boardStyle3">
                <div class="tit">当月首访签约率</div>
                <div class="cnt">
                    <div class="f-fl">--</div>
                    <div class="f-fr"><img th:src="@{/images/icon_sign.png}" alt=""></div>
                </div>
            </li>
            <li class="boardStyle3">
                <div class="tit">当月全款签约率</div>
                <div class="cnt">
                    <div class="f-fl">--</div>
                    <div class="f-fr"><img th:src="@{/images/icon_sign.png}" alt=""></div>
                </div>
            </li>
            <li class="boardStyle4">
                <div class="tit">当月二次到访数</div>
                <div class="cnt">
                    <div class="f-fl">{{secondVisitedNum}}</div>
                    <div class="f-fr"><img th:src="@{/images/icon_arrive.png}" alt=""></div>
                </div>
            </li>
            <li class="boardStyle4">
                <div class="tit">当月二次到访签约数</div>
                <div class="cnt">
                    <div class="f-fl">{{secondSignedNum}}</div>
                    <div class="f-fr"><img th:src="@{/images/icon_sign.png}" alt=""></div>
                </div>
            </li>
            <li class="boardStyle5">
                <div class="tit">未收齐尾款笔数</div>
                <div class="cnt">
                    <div class="f-fl">--</div>
                    <div class="f-fr"><img th:src="@{/images/icon_payment.png}" alt=""></div>
                </div>
            </li>
            <li class="boardStyle5">
                <div class="tit">未收齐尾款金额</div>
                <div class="cnt">
                    <div class="f-fl">--</div>
                    <div class="f-fr"><img th:src="@{/images/icon_payment.png}" alt=""></div>
                </div>
            </li>
            <li>
                <div class="tit">服务客户数</div>
                <div class="cnt">
                    <div class="f-fl">--</div>
                    <div class="f-fr"><img th:src="@{/images/icon_customer.png}" alt=""></div>
                </div>
            </li>
        </ul>
        <ul class="boardTab">
            <li>
                <el-tabs v-model="activeName" @tab-click="handleClick">
                    <el-tab-pane label="当月" name="1">
                        <img th:src="@{/images/icon_achievement.png}" alt="">
                        <div class="name">当月业绩</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                    <el-tab-pane label="季度" name="2">
                        <img th:src="@{/images/icon_achievement.png}" alt="">
                        <div class="name">季度业绩</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                    <el-tab-pane label="年度" name="3">
                        <img th:src="@{/images/icon_achievement.png}" alt="">
                        <div class="name">年度业绩</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                </el-tabs>
            </li>
            <li class="boardTabStyle2">
                <el-tabs v-model="activeName2" @tab-click="handleClick">
                    <el-tab-pane label="当月" name="1">
                        <img th:src="@{/images/icon_ranking.png}" alt="">
                        <div class="name">大区排名</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                    <el-tab-pane label="季度" name="2">
                        <img th:src="@{/images/icon_ranking.png}" alt="">
                        <div class="name">大区排名</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                    <el-tab-pane label="年度" name="3">
                        <img th:src="@{/images/icon_ranking.png}" alt="">
                        <div class="name">大区排名</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                </el-tabs>
            </li>
            <li class="boardTabStyle3">
                <el-tabs v-model="activeName3" @tab-click="handleClick">
                    <el-tab-pane label="当月" name="1">
                        <img th:src="@{/images/icon_disparity.png}" alt="">
                        <div class="name">距大区上一名业绩差</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                    <el-tab-pane label="季度" name="2">
                        <img th:src="@{/images/icon_disparity.png}" alt="">
                        <div class="name">距大区上一名业绩差</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                    <el-tab-pane label="年度" name="3">
                        <img th:src="@{/images/icon_disparity.png}" alt="">
                        <div class="name">距大区上一名业绩差</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                </el-tabs>
            </li>
            <li class="boardTabStyle4">
                <el-tabs v-model="activeName4" @tab-click="handleClick">
                    <el-tab-pane label="当月" name="1">
                        <img th:src="@{/images/icon_gspm.png}" alt="">
                        <div class="name">公司排名</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                    <el-tab-pane label="季度" name="2">
                        <img th:src="@{/images/icon_gspm.png}" alt="">
                        <div class="name">公司排名</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                    <el-tab-pane label="年度" name="3">
                        <img th:src="@{/images/icon_gspm.png}" alt="">
                        <div class="name">公司排名</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                </el-tabs>
            </li>
            <li class="boardTabStyle5">
                <el-tabs v-model="activeName5" @tab-click="handleClick">
                    <el-tab-pane label="当月" name="1">
                        <img th:src="@{/images/icon_yjc.png}" alt="">
                        <div class="name">距公司上一名业绩差</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                    <el-tab-pane label="季度" name="2">
                        <img th:src="@{/images/icon_yjc.png}" alt="">
                        <div class="name">距公司上一名业绩差</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                    <el-tab-pane label="年度" name="3">
                        <img th:src="@{/images/icon_yjc.png}" alt="">
                        <div class="name">距公司上一名业绩差</div>
                        <div class="num">--</div>
                    </el-tab-pane>
                </el-tabs>
            </li>
        </ul>
        <!-- 消息提醒 -->
        <dialog-console :param="consoleNewsParam"></dialog-console>      
    </el-row>
    <!-- 工作台结束 -->
    <!-- 待分配邀约来访客户 -->
    <el-row class="marginB20">
        <div class="title">
            <div class="leftbox f-fl">待分配邀约来访客户</div>
            <div class="rightbox f-fr">
                <img th:src="@{/images/icon_arrow.png}" alt="" class="f-fr">
                <span class="f-fr" @click="gotoBusAllocation">进入待分配来访客户</span>
                <el-button type="primary" size="small" class="f-fr btn" @click="toAllocationClue">快速分配资源</el-button>
            </div>
        </div>
        <el-row class="marginB20">
            <el-table  ref="multipleTable" tooltip-effect="dark" border @row-dblclick="showCustomerDetail" @selection-change="handleSelectionChange"
                style="width: 100%"  :data="dataTable">
               <el-table-column align="center" type="selection" label="全选" width="55"></el-table-column>
               <el-table-column align="center" type="index" label="序号" width="55"></el-table-column>
               <el-table-column align="center" prop="createTime" label="提交邀约时间" sortable :formatter="dateFormat" width="170"></el-table-column>
               <el-table-column align="center" prop="reserveTime" label="邀约来访时间" sortable :formatter="dateFormat" width="170"></el-table-column>
               <el-table-column align="center" prop="teleGorupName" label="电销组"></el-table-column>
               <el-table-column align="center" prop="teleDirectorName" label="电销总监"></el-table-column>
               <el-table-column align="center" prop="teleSaleName" label="电销员工"></el-table-column>
               <el-table-column align="center" prop="teleProjectId" label="电销组项目" :formatter="transformProject" width="120"></el-table-column>
               <el-table-column align="center" prop="cusName" label="客户姓名" ></el-table-column>
               <el-table-column align="center" prop="tasteProjectId" label="品尝项目" :formatter="transformProject"></el-table-column>
               <!-- <el-table-column align="center" prop="" label="签约店型" :formatter="transformProject"></el-table-column> -->
               <el-table-column align="center" prop="province" label="开店省份" ></el-table-column>
               <el-table-column align="center" prop="hasAddress" label="选址情况" :formatter="transformAddress"></el-table-column>
               <el-table-column align="center" prop="advanceAmount" label="预投金额" :formatter="transformUssm"></el-table-column>
               <el-table-column align="center" prop="purProjectType" label="意向项目" :formatter="transformPurProject" ></el-table-column>
               <el-table-column align="center" prop="area" label="店面面积" :formatter="transformArea"></el-table-column>
            </el-table>
        </el-row>
        <!-- 分发资源 -->
        <el-dialog  title="分发资源"  :visible.sync="allocationVisible">
            <template>
                <el-form :model="allocationForm" ref="allocationForm" :rules="allocationFormRules">
                    <el-form-item >
                        {{allocationForm.message}}
                    </el-form-item>
                    <el-form-item label="商务经理"    
                        :label-width="formLabelWidth"  
                        prop="saleId"
                        :rules="[
                            { required: true, message: '商务经理不能为空'},
                        ]"
                        >
                        <el-select v-model="allocationForm.saleId" placeholder="组内商务经理姓名" style="width: 400px;">
                            <el-option v-for="item in saleOptions" 
                                :key="item.id" 
                                :label="item.name" 
                                :value="item.id">
                            </el-option>
                        </el-select>
                    </el-form-item>
                    <el-form-item label="备注"    :label-width="formLabelWidth"  prop="remark">
                        <el-input type="textarea" v-model="allocationForm.remark" class="input-with-select" maxlength="200" style="width: 400px;" :rows="4" placeholder="输入分发备注"></el-input>
                    </el-form-item>
                </el-form>
                <div slot="footer" class="dialog-footer">
                    <el-button type="primary" @click="allocationClue('allocationForm')">提 交</el-button>
                    <el-button  @click="allocationClueCancel('allocationForm')">取 消</el-button>
                </div>
            </template>
        </el-dialog>
    </el-row>
    <!-- 待分配邀约来访客户 end-->
    <!-- 待审批到访 -->
    <el-row class="marginB20">
        <div class="title">
            <div class="leftbox f-fl">待审批到访记录</div>
            <div class="rightbox f-fr">
                <img th:src="@{/images/icon_arrow.png}" alt="" class="f-fr">
                <span class="f-fr" @click="gotoVisitRecord">进入客户到访记录</span>
                <el-button type="success" size="small" class="f-fr btn" @click="passVisit">审核通过</el-button>
                <el-button type="danger" size="small" class="f-fr btn" @click="OpenRejectVisitRecordDialog">驳回</el-button>
            </div>
        </div>
        <el-table 
            ref="dataTable2"
            tooltip-effect="dark"
            style="width: 100%"
            border
            @selection-change="handleSelectionChange"
            :data="dataTable2" 
            >
            <el-table-column align="center" type="selection" width="55"></el-table-column>
            <el-table-column align="center" prop="serialNum" label="序号" width="55"></el-table-column>
            <el-table-column align="center" prop="customerName" label="客户姓名"></el-table-column>  
            <el-table-column align="center" prop="projectName" label="考察项目" width="100"></el-table-column>
            <el-table-column align="center" prop="companyName" label="考察公司"></el-table-column>
            <el-table-column align="center" prop="vistitTime" label="到访时间"></el-table-column>
            <el-table-column align="center" prop="vistitStoreType" label="到访店铺类型" width="120" :formatter="getSignShopTypeText"></el-table-column>
            <el-table-column align="center" prop="visitType" label="到访类型" :formatter="getVisitTypeText"></el-table-column>
            <el-table-column align="center" prop="visitCity" label="来访城市"></el-table-column> 
            <el-table-column align="center" prop="signProvince" label="预签约省份" width="100"></el-table-column> 
            <el-table-column align="center" prop="signCity" label="预签约城市" width="100"></el-table-column>   
            <el-table-column align="center" prop="signDistrict" label="预签约区／县" width="120"></el-table-column>
            <el-table-column align="center" prop="businessGroupName" label="商务小组"></el-table-column> 
            <el-table-column align="center" prop="businessManagerName" label="商务经理" width="100"></el-table-column>
            <el-table-column align="center" prop="teleGroupName" label="电销组"></el-table-column> 
            <el-table-column align="center" prop="teleSaleName" label="创业顾问"></el-table-column> 
            <el-table-column align="center" prop="isSign" label="是否签约" width="100">
                <template slot-scope="scope">
                    <span v-if="scope.row.isSign===0">
                        否&nbsp;<el-button @click="notSignedReasonClick(scope.row)" type="text">未签约原因</el-button>
                    </span>
                    <span v-else-if="scope.row.isSign===1">是</span>
                </template>
            </el-table-column>
            <el-table-column align="center" prop="createTime" label="创建时间" width="170"></el-table-column> 
            <el-table-column align="center" prop="visitCount" label="到访批次" :formatter="getVisitNumText"></el-table-column> 
            <el-table-column align="center" prop="status" label="到访有效性" width="100">
                <template slot-scope="scope">
                    <span v-if="scope.row.status===0">
                        驳回&nbsp;<el-button @click="reasonClick(scope.row)" type="text">驳回原因</el-button>
                    </span>
                    <span v-else-if="scope.row.status===1">待审核</span>
                    <span v-else-if="scope.row.status===2">有效</span> 
                </template>
            </el-table-column>
        </el-table>
        <!-- 驳回处理 -->
        <el-dialog title="提示" :visible.sync="dialogFormVisibleVisit">
            <el-form :model="dialogForm" ref="dialogForm" :rules="dialogRules">
                <div class="fs16 marginB20">确定要将此 {{signRecordArrTitle}} 到访记录驳回吗？</div>
                <el-form-item label="驳回原因：" label-width="100px" prop="reason">
                    <el-input
                        type="textarea"
                        :rows="4"
                        placeholder="请输入驳回原因"
                        maxLength="100"
                        v-model="dialogForm.reason">
                    </el-input>
                </el-form-item>
                <div class="f-tar">最多100字</div>
            </el-form>
            <div slot="footer" class="dialog-footer">
                <el-button type="primary" @click="submitDialogFormVisit('dialogForm')">确 定</el-button>
                <el-button @click="dialogFormVisibleVisit = false" >取 消</el-button>
            </div>
        </el-dialog>
    </el-row>
    <!-- 待审批到访 end -->
    <!-- 待审批未到访记录 -->
    <el-row class="marginB20">
        <div class="title">
            <div class="leftbox f-fl">待审批未到访记录</div>
            <div class="rightbox f-fr">
                <img th:src="@{/images/icon_arrow.png}" alt="" class="f-fr">
                <span class="f-fr" @click="gotoVisitRecord">进入客户未到访记录</span>
                <el-button type="success" size="small" class="f-fr btn" @click="passUnVisit">审核通过</el-button>
                <el-button type="danger" size="small" class="f-fr btn" @click="OpenRejectUnVisitRecordDialog">驳回</el-button>
            </div>
        </div>
        <el-table 
            ref="dataTable3"
            tooltip-effect="dark"
            style="width: 100%"
            border
            @selection-change="handleSelectionChange"
            :data="dataTable3" 
            >
            <el-table-column align="center" type="selection" width="55"></el-table-column>
            <el-table-column align="center" prop="serialNum" label="序号" width="55"></el-table-column>
            <el-table-column align="center" prop="customerName" label="客户姓名"></el-table-column>  
            <el-table-column align="center" prop="projectName" label="考察项目" width="100"></el-table-column>
            <el-table-column align="center" prop="companyName" label="考察公司"></el-table-column>
            <el-table-column align="center" prop="vistitTime" label="到访时间"></el-table-column>
            <el-table-column align="center" prop="vistitStoreType" label="到访店铺类型" width="120" :formatter="getSignShopTypeText"></el-table-column>
            <el-table-column align="center" prop="visitType" label="到访类型" :formatter="getVisitTypeText"></el-table-column>
            <el-table-column align="center" prop="visitCity" label="来访城市"></el-table-column> 
            <el-table-column align="center" prop="signProvince" label="预签约省份" width="100"></el-table-column> 
            <el-table-column align="center" prop="signCity" label="预签约城市" width="100"></el-table-column>   
            <el-table-column align="center" prop="signDistrict" label="预签约区／县" width="120"></el-table-column>
            <el-table-column align="center" prop="businessGroupName" label="商务小组"></el-table-column> 
            <el-table-column align="center" prop="businessManagerName" label="商务经理" width="100"></el-table-column>
            <el-table-column align="center" prop="teleGroupName" label="电销组"></el-table-column> 
            <el-table-column align="center" prop="teleSaleName" label="创业顾问"></el-table-column> 
            <el-table-column align="center" prop="isSign" label="是否签约" width="100">
                <template slot-scope="scope">
                    <span v-if="scope.row.isSign===0">
                        否&nbsp;<el-button @click="notSignedReasonClick(scope.row)" type="text">未签约原因</el-button>
                    </span>
                    <span v-else-if="scope.row.isSign===1">是</span>
                </template>
            </el-table-column>
            <el-table-column align="center" prop="createTime" label="创建时间" width="170"></el-table-column> 
            <el-table-column align="center" prop="visitCount" label="到访批次" :formatter="getVisitNumText"></el-table-column> 
            <el-table-column align="center" prop="status" label="到访有效性" width="100">
                <template slot-scope="scope">
                    <span v-if="scope.row.status===0">
                        驳回&nbsp;<el-button @click="reasonClick(scope.row)" type="text">驳回原因</el-button>
                    </span>
                    <span v-else-if="scope.row.status===1">待审核</span>
                    <span v-else-if="scope.row.status===2">有效</span> 
                </template>
            </el-table-column>
        </el-table>
        <!-- 驳回处理 -->
        <el-dialog title="提示" :visible.sync="dialogFormVisibleUnVisit">
            <el-form :model="dialogForm" ref="dialogForm" :rules="dialogRules">
                <div class="fs16 marginB20">确定要将此 {{signRecordArrTitle}} 未到访记录驳回吗？</div>
                <el-form-item label="驳回原因：" label-width="100px" prop="reason">
                    <el-input
                        type="textarea"
                        :rows="4"
                        placeholder="请输入驳回原因"
                        maxLength="100"
                        v-model="dialogForm.reason">
                    </el-input>
                </el-form-item>
                <div class="f-tar">最多100字</div>
            </el-form>
            <div slot="footer" class="dialog-footer">
                <el-button type="primary" @click="submitDialogFormUnVisit('dialogForm')">确 定</el-button>
                <el-button @click="dialogFormVisibleUnVisit = false" >取 消</el-button>
            </div>
        </el-dialog>
    </el-row>
    <!-- 待审批未到访记录 end -->
    <!-- 待审批签约记录 -->
    <el-row class="marginB20">
        <div class="title">
            <div class="leftbox f-fl">待审批签约记录</div>
            <div class="rightbox f-fr">
                <img th:src="@{/images/icon_arrow.png}" alt="" class="f-fr">
                <span class="f-fr" @click="gotoSignRecord">进入客户签约记录</span>
                <el-button type="success" size="small" class="f-fr btn" @click="pass">审核通过</el-button>
                <el-button type="danger" size="small" class="f-fr btn" @click="OpenRejectSignRecordDialog">驳回</el-button>
            </div>
        </div>
        <el-table 
            ref="dataTable4"
            tooltip-effect="dark"
            style="width: 100%"
            border
             @selection-change="handleSelectionChange"
            :data="dataTable4" 
            >
            <el-table-column align="center" type="selection" width="55"></el-table-column>
            <el-table-column align="center" prop="serialNum" label="序号" width="55"></el-table-column>
            <el-table-column align="center" prop="signNo" label="签约单编号" width="180"></el-table-column>
            <el-table-column align="center" prop="signType" label="签约类型" width="150" :formatter="getSignTypeText"></el-table-column>
            <el-table-column align="center" prop="createTime"  width="170" label="签约时间"></el-table-column>
            <el-table-column align="center" prop="paymentDetails" label="付款明细">
                <template slot-scope="scope">
                    <el-button @click="recordClick(scope.row)" type="text" size="small">查看明细</el-button>
                </template>
            </el-table-column>
            <el-table-column align="center" prop="status" label="签约单状态"  width="120">
                <template slot-scope="scope">
                    <span v-if="scope.row.status===0">
                        驳回&nbsp;<el-button @click="reasonClick(scope.row)" type="text">驳回原因</el-button>
                    </span>
                    <span v-else-if="scope.row.status===1">待审核                                    
                        <span v-if="scope.row.payType ==1">(全款)</span>
                        <span v-else-if="scope.row.payType ==2">(定金)</span>
                        <span v-else-if="scope.row.payType ==3">(追加定金)</span>
                        <span v-else-if="scope.row.payType ==4">(尾款)</span>
                    </span>
                    <span v-else-if="scope.row.status===2">有效               
                        <span v-if="scope.row.payType ==1">(全款)</span>
                        <span v-else-if="scope.row.payType ==2">(定金)</span>
                        <span v-else-if="scope.row.payType ==3">(追加定金)</span>
                        <span v-else-if="scope.row.payType ==4">(尾款)</span>
                    </span>                  
                </template>
            </el-table-column>
            <el-table-column align="center" prop="customerName" label="客户姓名"></el-table-column>  
            <el-table-column align="center" prop="idCard" label="客户身份证号" width="170"></el-table-column> 
            <el-table-column align="center" prop="phone" label="客户联系电话" width="150"></el-table-column> 
            <el-table-column align="center" prop="signProjectName" label="签约项目"></el-table-column>   
            <el-table-column align="center" prop="signProvince" label="签约省份"></el-table-column>
            <el-table-column align="center" prop="signCity" label="签约城市"></el-table-column> 
            <el-table-column align="center" prop="signDictrict" label="签约区/县" width="100"></el-table-column>
            <el-table-column align="center" prop="businessGroupName" label="商务小组"></el-table-column> 
            <el-table-column align="center" prop="businessManagerName" label="商务经理"></el-table-column> 
            <el-table-column align="center" prop="teleGroupName" label="电销组"></el-table-column>
            <el-table-column align="center" prop="teleSaleName" label="创业顾问"></el-table-column>
            <el-table-column align="center" prop="amountReceivable" label="应收金额"></el-table-column>
            <el-table-column align="center" prop="firstToll" label="路费"></el-table-column>
            <el-table-column align="center" prop="preferentialAmount" label="优惠金额"></el-table-column>
        </el-table>
        <!-- 驳回处理 -->
        <el-dialog title="提示" :visible.sync="dialogFormVisible">
            <el-form :model="dialogForm" ref="dialogForm" :rules="dialogRules">            
                <div class="fs16 marginB20">确定要将此{{signRecordArrTitle}} 签约单驳回吗？</div>
                <el-form-item label="驳回原因：" label-width="100px" prop="reason">
                    <el-input
                        type="textarea"
                        :rows="4"
                        placeholder="请输入驳回原因"
                        maxLength="100"
                        v-model="dialogForm.reason">
                    </el-input>
                </el-form-item>
                <div class="f-tar">最多100字</div>
            </el-form>
            <div slot="footer" class="dialog-footer">
                <el-button type="primary" @click="submitDialogForm('dialogForm')">确 定</el-button>
                <el-button @click="dialogFormVisible = false" >取 消</el-button>
            </div>
        </el-dialog>
        <!-- 驳回原因 -->
        <el-dialog title="驳回原因" :visible.sync="reasonDialog">           
            <div class="fs16 marginB20" >{{rebutReason}}</div>
        </el-dialog>
        <!-- 付款明细 -->
        <el-dialog title="付款明细" :visible.sync="recordDialog">
            <div v-show="paymentDetailsShow">
                <div class="fs16 marginB20">全款付款明细</div>
                <el-table
                    ref="recordTable" 
                    tooltip-effect="dark"
                    style="width: 100%;margin-bottom: 20px;"
                    border
                    :data="recordTable" 
                    >
                    <el-table-column align="center" prop="payMode" label="付款方式" :formatter="getPayModeText"></el-table-column>
                    <el-table-column align="center" prop="payTime" label="付款时间" :formatter="getTimeText"></el-table-column>
                    <el-table-column align="center" prop="amountReceived" label="实收金额"></el-table-column>
                    <el-table-column align="center" prop="amountPerformance" label="业绩金额"></el-table-column>
                    <el-table-column align="center" prop="status" label="明细状态" :formatter="getStatusText"></el-table-column>
                </el-table>
            </div>        
            <div v-show="paymentDetailsShow2">
                <div class="fs16 marginB20">定金付款明细</div>
                <el-table
                    ref="recordTable2" 
                    tooltip-effect="dark"
                    style="width: 100%;margin-bottom: 20px;"
                    border
                    :data="recordTable2" 
                    >
                    <el-table-column align="center" prop="payMode" label="付款方式" :formatter="getPayModeText"></el-table-column>
                    <el-table-column align="center" prop="payTime" label="付款时间" :formatter="getTimeText"></el-table-column>
                    <el-table-column align="center" prop="amountReceived" label="实收金额"></el-table-column>
                    <el-table-column align="center" prop="amountPerformance" label="业绩金额"></el-table-column>
                    <el-table-column align="center" prop="amountBalance" label="余款金额"></el-table-column>
                    <el-table-column align="center" prop="makeUpTime" label="预计余款补齐时间" :formatter="getTimeText"></el-table-column>                
                    <el-table-column align="center" prop="status" label="明细状态" :formatter="getStatusText"></el-table-column>
                </el-table>
            </div>
            <div v-show="paymentDetailsShow3">
                <div class="fs16 marginB20">二次定金付款明细</div>
                <el-table
                    ref="recordTable3" 
                    tooltip-effect="dark"
                    style="width: 100%;margin-bottom: 20px;"
                    border
                    :data="recordTable3" 
                    >
                    <el-table-column align="center" prop="payMode" label="付款方式" :formatter="getPayModeText"></el-table-column>
                    <el-table-column align="center" prop="payTime" label="付款时间" :formatter="getTimeText"></el-table-column>
                    <el-table-column align="center" prop="amountReceived" label="实收金额"></el-table-column>
                    <el-table-column align="center" prop="amountPerformance" label="业绩金额"></el-table-column>
                    <el-table-column align="center" prop="amountBalance" label="余款金额"></el-table-column>
                    <el-table-column align="center" prop="makeUpTime" label="预计余款补齐时间" :formatter="getTimeText"></el-table-column>                
                    <el-table-column align="center" prop="status" label="明细状态" :formatter="getStatusText"></el-table-column>
                </el-table>
            </div>
            <div v-show="paymentDetailsShow4">
                <div class="fs16 marginB20">尾款付款明细</div>
                <el-table
                    ref="recordTable" 
                    tooltip-effect="dark"
                    style="width: 100%;margin-bottom: 20px;"
                    border
                    :data="recordTable4" 
                    >
                    <el-table-column align="center" prop="payMode" label="付款方式" :formatter="getPayModeText"></el-table-column>
                    <el-table-column align="center" prop="payTime" label="付款时间" :formatter="getTimeText"></el-table-column>
                    <el-table-column align="center" prop="amountReceived" label="实收金额"></el-table-column>
                    <el-table-column align="center" prop="amountPerformance" label="业绩金额"></el-table-column>
                    <el-table-column align="center" prop="status" label="明细状态" :formatter="getStatusText"></el-table-column>
                </el-table>
            </div>
        </el-dialog>        
    </el-row>
    <!-- 待审签约记录 end-->
</div>

<!-- import common js-->
<div th:include="_footer_include :: #jsLib"></div>
<script th:inline="javascript"> 
// 待分配邀约来访客户
var busSaleList=[[${busSaleList}]];//商务总监
var projectList=[[${projectList}]];//项目
var optionAddressList=[[${optionAddressList}]];//选址情况
var storefrontAreaList=[[${storefrontAreaList}]];//店铺面积
var ussmList=[[${ussmList}]];//投资金额

</script>
<script th:src="@{/js/custom/console/consoleBusinessMajordomo.js?v=1.0.0}"></script>
</body>
</html>